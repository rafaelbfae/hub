ko.bindingHandlers.inputmask={init:function(n,t){var r=t(),i=r.value;if(ko.isObservable(i))$(n).on("focusout change",function(){$(n).inputmask("isComplete")?i($(n).val()):i(null)});$(n).inputmask(r)},update:function(n,t){var u=t(),i=u.value,r;ko.isObservable(i)&&(r=i(),$(n).val(r))}};ko.validation.rules.pattern.message="Inválido.";ko.validation.init({registerExtenders:!0,messagesOnModified:!0,insertMessages:!0,parseInputAttributes:!0,messageTemplate:null,errorClass:"error"},!0),function(n){n.crmhub=n.crmhub||{};n.crmhub.core={};var t=function(t,i,r,u,f,e){i=i.indexOf("?")>-1?t==="GET"?i+"&r="+Math.random():i:t==="GET"?i+"?r="+Math.random():i;n.ajax({type:t,dataType:"json",url:n.crmhub.url+i,data:r,contentType:"application/json; charset=utf-8",complete:e,success:function(n){return u(n)},error:f||function(n){alert(n.status+": "+n.statusText)}})},i=function(t,i,r,u){u=u||".table";return n(u).dataTable({dom:"<'row'<'col-sm-5'l><'col-sm-3 text-center'B><'col-sm-4'f>><t><'row'<'col-sm-3'i><'col-sm-9'p>>",lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],buttons:[{extend:"copy",className:"btn-sm"},{extend:"csv",title:"title",className:"btn-sm"},{extend:"pdf",title:"title",className:"btn-sm"},{extend:"print",className:"btn-sm"}],aoColumnDefs:[{bSortable:!1,aTargets:[i]}],language:{url:"https://cdn.datatables.net/plug-ins/1.10.10/i18n/Portuguese-Brasil.json"},options:r})},r=function(t,i,r,u,f,e){e=e||".table";f=f||[[0,"desc"]];return n(e).DataTable({dom:"<'row'<'col-sm-5'l><'col-sm-3 text-center'B><'col-sm-4'f>><t><'row'<'col-sm-3'i><'col-sm-9'p>>",lengthMenu:[[10,25,50],[10,25,50]],buttons:[{extend:"copy",className:"btn-sm"},{extend:"csv",title:"title",className:"btn-sm"},{extend:"pdf",title:"title",className:"btn-sm"},{extend:"print",className:"btn-sm"}],language:{url:"https://cdn.datatables.net/plug-ins/1.10.10/i18n/Portuguese-Brasil.json"},aoColumnDefs:[{bSortable:!1,aTargets:[i]}],order:f,columns:u,processing:!0,serverSide:!0,ajax:{url:n.crmhub.url+r,data:function(n){return{pDraw:n.draw,pLength:n.length,pStart:n.start,pOrder:n.order[0].column,pDir:n.order[0].dir,pSearch:n.search.value}}},initComplete:function(){var t=n(".dataTables_filter input").unbind(),r=this.api(),i=n('<button class="btn btn-default btn-circle">').click(function(){r.search(t.val()).draw()}).append('<i class="fa fa-search">'),u=n('<button class="btn btn-default btn-circle">').click(function(){t.val("");i.click()}).append('<i class="fa fa-close">');n(".dataTables_filter").append(i,u)}})},u=function(n){swal({title:"Você tem certeza?",text:"Não será mais possível recuperar este registro.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Sim, apague o registro!"},function(t){t&&n()})};n.crmhub.core.ajax=t;n.crmhub.core.initDataTable=i;n.crmhub.core.initDataTableServeSide=r;n.crmhub.core.alertConfirm=u}(jQuery);